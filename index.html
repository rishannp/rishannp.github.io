<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Rishan Patel - Brain-Computer Interface Research</title>
  <meta name="description" content="BCI researcher at UCL. Graphical models for EEG, adaptive BCIs for ALS, and real-time neurotechnology." />
  <meta name="author" content="Rishan Patel" />
  
  <!-- Open Graph / Twitter for clean link unfurls -->
  <meta property="og:title" content="Rishan Patel - Brain-Computer Interface Research" />
  <meta property="og:description" content="BCI researcher in London (UCL). Graphical models for EEG, adaptive BCIs for ALS, and real-time neurotechnology." />
  <meta property="og:type" content="website" />
  <meta property="og:url" content="https://rishannp.github.io/" />
  <meta property="og:image" content="https://rishannp.github.io/assets/og-card.png" />
  <meta name="twitter:card" content="summary_large_image" />

  <!-- JSON-LD (basic person/org schema) -->
  <script type="application/ld+json">
  {
    "@context": "https://schema.org",
    "@type": "Person",
    "name": "Rishan Patel",
    "jobTitle": "PhD Candidate, Brain-Computer Interfaces",
    "affiliation": {
      "@type": "CollegeOrUniversity",
      "name": "University College London"
    },
    "url": "https://rishannp.github.io/",
    "sameAs": [
      "https://www.linkedin.com/in/rishannp/",
      "https://orcid.org/0009-0006-8848-8574"
    ]
  }
  </script>

  <!-- Fonts (system first, then Inter as progressive enhancement) -->
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;600;800&display=swap" rel="stylesheet">

  <style>
    :root {
      --bg: #0b0c0f; /* default to dark; I live in terminals */
      --fg: #e9eef4;
      --muted: #aab3c2;
      --accent: #48CFAD; /* primary mint */
      --accent2: #37BC98; /* secondary mint */
      --grey: #e9ecef; /* light grey */
      --card: #ffffff;
      --ring: #37BC98;
      --shadow: 0 10px 30px rgba(0,0,0,0.35);
      --radius: 16px;
      --maxw: 980px;
    }
    @media (prefers-color-scheme: light) {
      :root {
        --bg: #f7f9fb;
        --fg: #11131a;
        --muted: #5b6577;
        --accent: #48CFAD;
        --accent2: #37BC98;
        --grey: #e9ecef;
        --card: #ffffff;
        --ring: #37BC98;
        --shadow: 0 10px 30px rgba(10, 30, 90, 0.08);
      }
    }

    * { box-sizing: border-box; }
    html, body { height: 100%; margin: 0; font-family: Inter, system-ui, sans-serif; background: var(--bg); color: var(--fg); }
    a { color: var(--accent); text-decoration: none; }
    a:hover { text-decoration: underline; }
    .wrap { max-width: var(--maxw); margin: 0 auto; padding: 24px; }

    header {
      display: flex; justify-content: space-between; align-items: center;
      position: sticky; top: 0; backdrop-filter: blur(8px);
      background: color-mix(in oklab, var(--bg) 80%, transparent);
      border-bottom: 1px solid color-mix(in oklab, var(--fg) 10%, transparent);
      z-index: 10;
    }
    nav a { margin-left: 16px; font-weight: 600; opacity: 0.9; }
    .toggle { cursor: pointer; border: 1px solid color-mix(in oklab, var(--fg) 15%, transparent); background: var(--card); padding: 8px 10px; border-radius: 12px; }

    .btn {
      display: inline-flex; align-items: center; gap: 10px;
      background: linear-gradient(180deg, color-mix(in oklab, var(--accent) 25%, transparent), transparent), var(--card);
      color: var(--fg); padding: 10px 16px; border-radius: calc(var(--radius) - 4px);
      border: 1px solid color-mix(in oklab, var(--accent2) 45%, var(--card));
      box-shadow: var(--shadow); text-decoration: none; font-weight: 600;
    }
    .btn:hover { transform: translateY(-1px); }

    .hero { display:grid; grid-template-columns: 1.2fr 0.8fr; gap: 32px; align-items: center; padding: 48px 0; }
    .hero h1 { font-size: clamp(28px, 4vw, 48px); margin-bottom: 8px; }
    .hero p.lede { color: var(--muted); margin-bottom: 20px; font-size: 18px; }

    /* Squiggly underline for name */
    .squiggle {
      position: relative;
      display: inline-block;
      z-index: 1;
    }
    .squiggle::after {
      content: "";
      position: absolute;
      left: 0;
      bottom: -4px; /* tuck just under baseline */
      width: 100%;
      height: 6px;
      background-repeat: repeat-x;
      background-size: 20px 6px; /* wave width x height */
      /* Data-URI SVG; %23 is '#' encoded; stroke matches --accent */
      background-image: url("data:image/svg+xml;utf8,<svg width='20' height='6' xmlns='http://www.w3.org/2000/svg'><path d='M0 3 Q5 0 10 3 T20 3' stroke='%2348CFAD' stroke-width='1.5' fill='none' stroke-linecap='round'/></svg>");
      opacity: 0.9;
      pointer-events: none;
    }

    .card { background: var(--card); padding: 20px; border-radius: var(--radius); box-shadow: var(--shadow); }
    h2 { font-size: 22px; margin-bottom: 12px; position: relative; }
    h2::after {
      content: ""; position: absolute; left: 0; bottom: -6px; height: 3px; width: 56px;
      background: linear-gradient(90deg, var(--accent), color-mix(in oklab, var(--accent2) 60%, var(--accent)));
      border-radius: 2px;
    }

    .pill { display:inline-block; padding: 2px 8px; border-radius:999px; background: color-mix(in oklab, var(--accent) 15%, var(--card)); border: 1px solid color-mix(in oklab, var(--accent) 50%, var(--card)); font-size: 12px; color: var(--muted); }
    ul.clean { list-style: none; padding: 0; margin: 0; }
    ul.clean li { padding: 10px 0; border-bottom: 1px dashed color-mix(in oklab, var(--fg) 10%, transparent); }
    ul.clean li:last-child { border-bottom: none; }

    .card { transition: transform .2s ease, box-shadow .2s ease; }
    .card:hover { transform: translateY(-2px); box-shadow: 0 16px 40px rgba(0,0,0,.35); }

    footer { margin: 48px 0 16px; color: var(--muted); font-size: 14px; text-align: center; }

    /* Subtle scientific grid overlay */
    body::before {
      content: ""; position: fixed; inset: 0; pointer-events: none; z-index: 0;
      background:
        linear-gradient(transparent 24px, color-mix(in oklab, var(--fg) 5%, transparent) 25px) 0 0/100% 25px,
        linear-gradient(90deg, transparent 24px, color-mix(in oklab, var(--fg) 5%, transparent) 25px) 0 0/25px 100%;
      opacity: .08; mix-blend-mode: soft-light;
    }
    @media (prefers-reduced-motion: no-preference) {
      body::after {
        content: ""; position: fixed; inset: -50% -50%; pointer-events: none; z-index: 0;
        background: radial-gradient(60% 60% at 50% 50%, color-mix(in oklab, var(--accent) 12%, transparent), transparent 70%);
        filter: blur(60px); animation: drift 18s linear infinite;
        opacity: .3;
      }
      @keyframes drift { to { transform: rotate(360deg); } }
    }
    header, main, footer { position: relative; z-index: 1; }

    /* Timeline styles */
    .timeline { list-style: none; margin: 0; padding: 0; position: relative; }
    .timeline::before { content: ""; position: absolute; left: 12px; top: 0; bottom: 0; width: 2px; background: color-mix(in oklab, var(--fg) 12%, transparent); }
    .timeline-item { position: relative; padding-left: 36px; margin-bottom: 14px; }
    .timeline-item::before { content: ""; position: absolute; left: 6px; top: 6px; width: 12px; height: 12px; border-radius: 50%; background: var(--accent); box-shadow: 0 0 0 3px color-mix(in oklab, var(--accent) 25%, transparent); }
    .timeline-item .when { font-size: 12px; color: var(--muted); margin-bottom: 4px; }
    .timeline-item h3 { margin: 0 0 4px; font-size: 16px; }
    .timeline-item p { margin: 0; color: var(--muted); }

    /* Carousel styles */
    .carousel { position: relative; overflow: hidden; }
    .carousel-track { display: flex; gap: 0; scroll-behavior: smooth; transition: transform 0.5s ease; }
    .carousel .slide { min-width: 100%; }
    .carousel img, .carousel video { width:100%; height:auto; border-radius: 10px; display:block; }
    .carousel figure { position: relative; margin: 0; }
    .carousel figcaption { position:absolute; left:10px; bottom:10px; background: color-mix(in oklab, var(--bg) 60%, transparent); color: var(--fg); padding:6px 10px; border-radius:8px; font-size:12px; }
    .carousel-btn { position:absolute; top:50%; transform: translateY(-50%); border:none; background: color-mix(in oklab, var(--card) 70%, transparent); padding:8px 12px; border-radius:12px; cursor:pointer; box-shadow: var(--shadow); }
    .carousel-btn.prev { left: 10px; }
    .carousel-btn.next { right: 10px; }
    .carousel-dots { display:flex; gap:6px; justify-content:center; margin-top:8px; }
    .carousel-dots button { width:8px; height:8px; border-radius:50%; border:1px solid color-mix(in oklab, var(--accent2) 50%, var(--card)); background: color-mix(in oklab, var(--accent) 10%, var(--card)); cursor:pointer; }
    .carousel-dots button.active { background: var(--accent); }

    /* Respect reduced motion */
    @media (prefers-reduced-motion: reduce) {
      .carousel-track { transition: none !important; }
    }
  </style>
</head>
<body>
  <header class="wrap">
    <div style="display:flex;align-items:center;gap:10px;">
      <span class="pill">BCI Â· EEG Â· Graph ML Â· Deep Learning Â· Healthcare Engineering</span>
    </div>
    <nav>
      <a href="#about">About me</a>
      <a href="#experience">Experience</a>
      <a href="#publications">Publications</a>
      <a href="#contact">Contact</a>
      <button id="themeToggle" class="toggle" aria-label="Toggle theme">ðŸŒ“</button>
    </nav>
  </header>

  <main class="wrap">
    <!-- HERO -->
    <section class="hero">
      <div>
        <h1>Hi, I'm <span class="squiggle">Rishan Patel</span>.</h1>
        <p class="lede">I build adaptive Brainâ€“Computer Interfaces using EEG, graph neural networks, and real-time neurotechnology â€” focused on assistive communication for ALS.</p>
        <div style="display:flex; gap:12px; flex-wrap:wrap;">
          <a class="btn" href="#contact">Get in touch</a>
          <a class="btn" href="./Rishan_Patel_CV.pdf">Download CV</a>
        </div>
        <p style="margin-top:10px;color:var(--muted);font-size:14px;">UCL Â· PhD Â· IET Prize 21 Â· IHE Fellow 24/25</p>
      </div>
      <div class="card" style="padding:0;overflow:hidden">
        <img loading="lazy" src="assets/research_talk.jpg" alt="Rishan giving a research talk" style="display:block;width:100%;height:auto;" />
      </div>
    </section>

    <!-- ABOUT -->
    <section id="about" class="grid">
      <div class="col-12 card">
        <h2>About me</h2>
        <p>I see translational research as the most meaningful way to bridge academic discovery with tangible human benefit. My PhD work in Brainâ€“Computer Interfaces has revealed both the immense promise and the current limitations of neurotechnology. While academic research often stops at publication, I believe its true value lies in transforming ideas into scalable, accessible solutions that improve patientsâ€™ lives. I am particularly interested in developing the skills that enable this transition, learning how to evaluate scientific concepts not only for novelty, but for feasibility, scalability, and market relevance. My long-term goal is to build devices that create adaptive neurotechnologies for medical use, especially for neurodegenerative conditions such as ALS where assistive technologies are urgently needed. I am motivated by the vision of making advanced neural interfaces not a privilege, but a practical tool for restoring independence and communication.</p>

        <p>What distinguishes my approach is a blend of technical depth and a strong commitment to real-world translation. I work at the intersection of neuroscience, engineering, and patient care, developing BCI that adapt to individuals over time. Yet my focus extends beyond the lab: I am driven by the broader challenge of ensuring that breakthrough science leads to lasting impact. Alongside my research, I have co-founded initiatives such as the UK BCI Consortium to connect researchers and accelerate national collaboration, and I regularly engage in outreach to democratise access to science for younger students. I view my field not only as research but as a means for systemic change, improving patient access, inspiring the next generation, and demonstrating that cutting-edge neurotechnology can be developed outside elite, resource-heavy environments. Having participated in programmes such as Cambridge EnterpriseTECH, Neuroworksâ€™ What If, and iCURe Engage, I have cultivated an integrated understanding of innovation pipelines outside of research. Combined with my experience designing both algorithms and hardware, exposure to clinical contexts, and my work as an Impact Fellow with the Institute of Healthcare Engineering, I bring a perspective that spans scientific feasibility, usability, regulation, and societal impact. My aim is not just to commercialise technology, but to build sustainable ecosystems where innovation in healthcare can truly thrive.</p>
        <ul class="clean">
          <li><strong>Notable Skills:</strong> PyTorch, TensorFlow, PyTorch Geometric, MNE, EEGLab, pylsl, Python, MATLAB</li>
        </ul>
      </div>
    </section>

    <!-- EDUCATION -->
    <section id="education" class="grid" style="margin-top:16px;">
      <div class="col-12 card">
        <h2>Education</h2>
        <ol class="timeline">
          <li class="timeline-item">
            <div class="when">Sep 2022 â€” Sep 2026</div>
            <h3>Doctor of Philosophy, Electronic & Electrical Engineering - University College London</h3>
            <p>With the UCL Bioelectronics Group and Aspire CREATE, developing non-invasive BCIs capable of recognizing motor intent during functional tasks for ALS patients. Tackling EEG non-stationarity via algorithmic & experimental innovation. Supervised multiple undergraduate and Masters projects. See ORCID for publications.</p>
          </li>
          <li class="timeline-item">
            <div class="when">Oct 2021 â€” Oct 2022</div>
            <h3>Masters, Biomedical Engineering - Imperial College London</h3>
            <p>Grade: 65.38%.</p>
          </li>
        </ol>
      </div>
    </section>

    <!-- EXPERIENCE -->
    <section id="experience" class="grid" style="margin-top:16px;">
      <div class="col-12 card">
        <h2>Experience</h2>
        <ol class="timeline">
          <li class="timeline-item">
            <div class="when">Aug 2025 â€” Present</div>
            <h3>UK BCI Consortium - Founding Member</h3>
            <p>The UK BCI Consortium is an initiative born out of collaboration between research groups at UCL and Essex, aiming to create a network of BCI research across the UK. The consortium hosts events, workshops, collaborative resources, and lab visits to build an interactive network of doctoral and early career BCI researchers nationwide.</p>
          </li>
          <li class="timeline-item">
            <div class="when">Sep 2025 â€” Present</div>
            <h3>BCI Society - Student & Postdoc Committee</h3>
            <p>Sitting on the student and postdoc committee for the BCI Society, a global community for BCI research.</p>
          </li>
          <li class="timeline-item">
            <div class="when">Mar 2025 â€” Aug 2025</div>
            <h3>Cambridge Neuroworks - What If Programme (University of Cambridge)</h3>
            <p>Exploring neurotech ideas, refining hypotheses, ecosystem mapping, expert engagement, and entrepreneurial training to develop promising neurotech innovations.</p>
          </li>
          <li class="timeline-item">
            <div class="when">2025</div>
            <h3>Innovate UK - iCure Engage</h3>
            <p>Part of the iCure Engage program supporting researchers in translating innovations into real-world commercial and societal impact through customer discovery and business validation.</p>
          </li>
          <li class="timeline-item">
            <div class="when">Oct 2024 â€” Oct 2025</div>
            <h3>UCL Institute of Healthcare Engineering - Impact Fellowship</h3>
            <p>Personalized training in co-production, policy, media & science communication; mentorship, peer learning, and external networking. Culminates in managing an impact event.</p>
          </li>
          <li class="timeline-item">
            <div class="when">2024</div>
            <h3>EnterpriseTECH - Cambridge Judge Business School</h3>
            <p>Commercialization program for researchers; developing a feasibility report for an early-stage startup.</p>
          </li>
          <li class="timeline-item">
            <div class="when">Oct 2023 â€” Present</div>
            <h3>Scholars Club Tutor - The Brilliant Club (Highlands School)</h3>
            <p>Designed and taught a university-level module for KS4 students to bridge access gaps; module based on current research.</p>
          </li>
          <li class="timeline-item">
            <div class="when">Aug 2023</div>
            <h3>The Turing Summer Experience - Alan Turing Institute & The Brilliant Club</h3>
            <p>Helped teach a session on Natural Language Programming for Year 12 students interested in Data Science & AI.</p>
          </li>
          <li class="timeline-item">
            <div class="when">Aug 2023</div>
            <h3>Bridging The Future - UCL-led Charity</h3>
            <p>Delivered a session on BCI research and how AI can help biomedical engineers solve impactful problems.</p>
          </li>
          <li class="timeline-item">
            <div class="when">Apr 2023 â€” Present</div>
            <h3>Ambassador & Project Host - STEM Learning UK</h3>
            <p>Nuffield Research Placement hostâ€”supporting young students to thrive in a university research setting.</p>
          </li>
          <li class="timeline-item">
            <div class="when">Jul 2021 â€” Sep 2021</div>
            <h3>PA Consulting - Summer Internship (Global Innovation & Technology Centre, Cambridge)</h3>
            <p>10-week internship; developed a VR bomb disposal robot.</p>
          </li>
          <li class="timeline-item">
            <div class="when">Aug 2019 â€” Present</div>
            <h3>IET - Young Professional Ambassador</h3>
            <p>Hosting and judging events like PresentIn10 and other IET activities.</p>
          </li>
        </ol>
      </div>
    </section>

    <!-- MEDIA -->
    <section id="media" class="grid" style="margin-top:16px;">
      <div class="col-12 card">
        <h2>Media</h2>
        <div class="carousel" data-autoplay="true" data-interval="6000">
          <button class="carousel-btn prev">â€¹</button>
          <div class="carousel-track">
            <figure class="slide is-active"><img loading="lazy" src="assets/research_talk.jpg" alt="Research talk"><figcaption>Research Talk</figcaption></figure>
            <figure class="slide"><img loading="lazy" src="media/research_talk_2.jpg" alt="Research talk 2"><figcaption>Research Talk 2</figcaption></figure>
            <figure class="slide"><video src="media/bcivideo.mp4" controls preload="metadata"></video><figcaption>BCI Demo Video</figcaption></figure>
            <figure class="slide"><img loading="lazy" src="media/et1.jpg" alt="Event 1"><figcaption>Event 1</figcaption></figure>
            <figure class="slide"><img loading="lazy" src="media/et2.jpg" alt="Event 2"><figcaption>Event 2</figcaption></figure>
            <figure class="slide"><img loading="lazy" src="media/tbc1.jpg" alt="Talk BCI 1"><figcaption>Talk BCI 1</figcaption></figure>
            <figure class="slide"><img loading="lazy" src="media/tbc2.jpg" alt="Talk BCI 2"><figcaption>Talk BCI 2</figcaption></figure>
            <figure class="slide"><video src="media/pa1.mp4" controls preload="metadata"></video><figcaption>Project Kobe â€” 1</figcaption></figure>
            <figure class="slide"><video src="media/pa2.mp4" controls preload="metadata"></video><figcaption>Project Kobe â€” 2</figcaption></figure>
          </div>
          <button class="carousel-btn next">â€º</button>
          <div class="carousel-dots"></div>
        </div>
      </div>
    </section>

    <!-- PUBLICATIONS -->
    <section id="publications" class="grid" style="margin-top:16px;">
      <div class="col-12 card">
        <h2>Publications & Manuscripts</h2>
        <ul id="pub-list" class="clean"><li>Loading publications from ORCIDâ€¦</li></ul>
      </div>
    </section>

    <!-- TALKS -->
    <section id="talks" class="grid" style="margin-top:16px;">
      <div class="col-12 card">
        <h2>Talks & Outreach</h2>
        <ul class="clean">
          <li>UK BCI Community â€” peer-driven meetups, lab exchanges, one-slide talks.</li>
          <li>STEM outreach: Brilliant Club, IET YP Ambassador, Nuffield mentor.</li>
        </ul>
      </div>
    </section>

    <!-- CONTACT -->
    <section id="contact" class="grid" style="margin-top:16px;">
      <div class="col-12 card">
        <h2>Contact</h2>
        <p style="font-size:16px; color:var(--muted); line-height:1.8;">
          ðŸ“§ <a href="mailto:uceerjp@ucl.ac.uk">uceerjp@ucl.ac.uk</a><br>
          ðŸ”— <a href="https://www.linkedin.com/in/rishannp/" target="_blank" rel="noopener">linkedin.com/in/rishannp</a>
        </p>
        <p style="font-size:14px;color:var(--muted);">Drop your CV at <code>/Rishan_Patel_CV.pdf</code> to enable the download button in the hero.</p>
      </div>
    </section>

    <footer>
      <p>Â© <span id="year"></span> Rishan Patel â€¢ Built with plain HTML/CSS â€¢ <a href="https://github.com/rishannp/rishannp.github.io">Source</a></p>
    </footer>
  </main>

  <script>
    // -- Footer year
    document.getElementById('year').textContent = new Date().getFullYear();

    // -- Theme toggle (persist preference)
    const toggle = document.getElementById('themeToggle');
    const key = 'theme-preference';
    const root = document.documentElement;
    const applyTheme = (t) => root.setAttribute('data-theme', t);
    const saved = localStorage.getItem(key);
    if (saved) applyTheme(saved);
    toggle.addEventListener('click', () => {
      const next = root.getAttribute('data-theme') === 'light' ? 'dark' : 'light';
      applyTheme(next); localStorage.setItem(key, next);
    });

    // -- ORCID fetch -> build publications list
    const ORCID_ID = '0009-0006-8848-8574';
    const pubList = document.getElementById('pub-list');
    async function loadORCIDWorks(orcid) {
      if (!pubList) return;
      try {
        const res = await fetch(`https://pub.orcid.org/v3.0/${orcid}/works`, { headers: { 'Accept': 'application/json' } });
        if (!res.ok) throw new Error('ORCID fetch failed');
        const data = await res.json();
        const group = data.group || [];
        if (!group.length) { pubList.innerHTML = '<li>No publications found on ORCID.</li>'; return; }
        const items = group.map(g => {
          const s = g['work-summary']?.[0];
          if (!s) return null;
          const title = s.title?.title?.value || 'Untitled';
          const year = s['publication-date']?.year?.value || '';
          const ext = s['external-ids']?.['external-id'] || [];
          const doi = ext.find(e => e['external-id-type']?.toLowerCase() === 'doi');
          const url = doi ? 'https://doi.org/' + encodeURIComponent(doi['external-id-value']) : s['url']?.value;
          return { title, year, url };
        }).filter(Boolean).sort((a,b) => (parseInt(b.year||0) - parseInt(a.year||0)));
        pubList.innerHTML = '';
        for (const it of items) {
          const li = document.createElement('li');
          li.innerHTML = `<strong>${it.year}</strong> â€” ${it.url ? `<a href='${it.url}'>${it.title}</a>` : it.title}`;
          pubList.appendChild(li);
        }
      } catch (err) { pubList.innerHTML = `<li>Could not load ORCID data (${err.message})</li>`; }
    }
    loadORCIDWorks(ORCID_ID);

    // -- Carousel with autoplay; pauses on hover/focus and while a video plays
    function initCarousel(rootEl) {
      const track = rootEl.querySelector('.carousel-track');
      const slides = Array.from(track.children);
      const btnPrev = rootEl.querySelector('.prev');
      const btnNext = rootEl.querySelector('.next');
      const dots = rootEl.querySelector('.carousel-dots');
      let idx = 0;

      function go(i) {
        idx = (i + slides.length) % slides.length;
        track.style.transform = `translateX(${-idx * 100}%)`;
        dots.querySelectorAll('button').forEach((d, j) => d.classList.toggle('active', j === idx));
      }

      // Build dots once
      slides.forEach((_, i) => {
        const b = document.createElement('button');
        b.addEventListener('click', () => { go(i); restart(); });
        dots.appendChild(b);
      });

      btnPrev?.addEventListener('click', () => { go(idx - 1); restart(); });
      btnNext?.addEventListener('click', () => { go(idx + 1); restart(); });

      // Autoplay (respect reduced motion)
      const reduceMotion = window.matchMedia && window.matchMedia('(prefers-reduced-motion: reduce)').matches;
      const enabled = (rootEl.getAttribute('data-autoplay') || 'true') !== 'false' && !reduceMotion;
      const interval = parseInt(rootEl.getAttribute('data-interval') || '6000', 10);
      let timer = null;
      function start() { if (!enabled) return; stop(); timer = setInterval(() => go(idx + 1), interval); }
      function stop() { if (timer) { clearInterval(timer); timer = null; } }
      function restart() { stop(); start(); }

      // Pause on hover/focus
      rootEl.addEventListener('mouseenter', stop);
      rootEl.addEventListener('mouseleave', start);
      rootEl.addEventListener('focusin', stop);
      rootEl.addEventListener('focusout', start);
      document.addEventListener('visibilitychange', () => document.hidden ? stop() : start());

      // Pause while a video is playing; resume when paused/ended
      slides.forEach(slide => {
        const vid = slide.querySelector('video');
        if (!vid) return;
        vid.addEventListener('play', stop);
        vid.addEventListener('pause', start);
        vid.addEventListener('ended', start);
      });

      go(0);
      start();
    }
    document.querySelectorAll('.carousel').forEach(initCarousel);
  </script>
</body>
</html>
